# lovelace_gen

type: custom:stack-in-card
view_layout:
  grid-area: main1
cards:
  - type: custom:mushroom-media-player-card
    entity: media_player.{{ room }}
    use_media_artwork: false
    fill_container: false
    use_media_info: true
    show_volume_level: true
    media_controls:
      - on_off
      - shuffle
      - previous
      - play_pause_stop
      - next
      - repeat
    volume_controls:
      - volume_set
    collapsible_controls: true
    tap_action:
      action: more-info
    double_tap_action:
      action: toggle
    hold_action:
      action: navigate
    card_mod:
      style: |
        ha-card {
        {{ "{%" }} if is_state('media_player.{{ room }}','playing') {{ "%}" }}
          padding-top: 100px !important;
        {{ "{%" }} else {{ "%}" }}
          padding-top: 12px !important;
        {{ "{%" }} endif {{ "%}" }}
          padding-bottom: 0px !important;
        }
  - entity: media_player.{{ room }}
    hide:
      icon: true
      name: true
      runtime: true
      source: true
      power: true
      state_label: true
      volume: true
      info: true
      progress: false
      controls: true
    more_info: false
    type: custom:mini-media-player
    toggle_power: false
    group: true
    card_mod:
      style: |
        :host {
          --mini-media-player-progress-height: 38px;
        } 
        ha-card { 
        {{ "{%" }} if is_state('media_player.{{ room }}','playing') {{ "%}" }}
          padding: 75px 0px 0px !important;
        {{ "{%" }} else {{ "%}" }}
          padding: 0px 0px 12px !important;
        {{ "{%" }} endif {{ "%}" }}  
        }
card_mod:
  style: |
    ha-card {
      {{ "{%" }} if is_state('media_player.{{ room }}', 'playing') {{ "%}" }}
      {{ "{%" }} if is_state('media_player.{{ room }}', 'playing') {{ "%}" }}
        background: rgba(var(--rgb-card-background-color), 0.5) url( '{{ "{{" }} state_attr( "media_player.{{ room }}", "entity_picture" ) {{ "}}" }}' ) center no-repeat;
      {{ "{%" }} endif {{ "%}" }} 
        background-size: cover;
        background-blend-mode: overlay;
        height: 390px;
      {{ "{%" }} endif {{ "%}" }}  
    }