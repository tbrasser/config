# Required configuration to feed lovelace_gen
# Example room:

# - name: myroom
#   icon: hue:room-mine
#   color: pink
#   areas: # map home-assistant area or areas to lovelace_gen room
#     - myroom
#     [- otherarea]
#   cards:
#     - entity: media_player.myroommedia
#     - entity: plant.myplant
#       battery: sensor.myplant_battery  # optional
#     - entity: light.mylight
#       name: My light  # 'short/friendly name', will be prefixed with room name when away from the room view
#       [type: onoff]   # Lights that only can be toggled don't need a lot of space
#     - entity: input_datetime.mytimer
#       days: 4        # interval in days
#       confirmation:   # follows browser_mod popup confirmation scheme :)
#         text: Have you really done the thing?
#     - entity: sensor.somesensor  # all other domains will be inserted as-is
#       type: tile
#       #
- name: woonkamer
  icon: hue:room-living
  color: red
  areas:
    - woonkamer
    - waskhok
  cards:
    - entity: media_player.woonkamer
    - entity: light.lsc_g125_gold
      name: Plafond
   # - entity: light.woonkamer_tafeltje
    - entity: light.nachtkastje
      name: Tafeltje
    - entity: light.glitterlamp
      name: Glitterlamp
      type: onoff
    - entity: light.candle_gold_2
      name: Bureaulamp
    - entity: light.magic_digital_strip
      name: Washok
    - entity: plant.pannenkoekenplant
      battery: sensor.plant_sensor_f38a_battery
    - type: tile
      entity: switch.ps5_606_power
    # - entity: sensor.washer
    #   type: washer
    - entity: input_datetime.droger
      days: 30
      confirmation:
        text: Filters schoon?
    - type: conditional
      conditions:
        - entity: sensor.washer
          state: "off"
      card:
        type: custom:mushroom-template-card
        icon_color: grey
        primary: "{{ state_attr(entity, 'friendly_name') }}"
        secondary: "{% set timer = ((states(entity) | as_datetime | as_local - now()).days + 1) %}{% if timer > 1 %}Over {{ timer }} dagen{% elif timer > 0 %}Over {{ timer }} dag{% else %}'t is tijd!{% endif %}"
        entity: input_datetime.wasmachine
        badge_color: orange
        icon: "{{ state_attr(entity, 'icon') }}"
        hold_action:
          action: more-info
        tap_action:
          action: call-service
          service: script.reset_reminder
          data:
            dagen: 30
          target:
            entity_id: input_datetime.wasmachine
          confirmation:
            text: Filters en Bakjes Schoon?
        badge_icon: "{% if as_timestamp(now()) > as_timestamp(states(config.entity)) %}mdi:exclamation-thick{% endif %}"
        card_mod:
          class: reminder
          style:
            mushroom-shape-icon$: |
              .shape {
                background: radial-gradient(var(--card-background-color) 60%, transparent 0%), conic-gradient(rgb(var(--rgb-orange)) {{ ((states(config.entity) | as_datetime | as_local - now()).days + 1) * (100 / 30) }}% 0%, var(--card-background-color) 0% 100%);
              }
              .shape:after {
                content: "";
                height: 100%;
                width: 100%;
                position: absolute;
                border-radius: 50%;
                background: rgba(var(--rgb-{{ config.icon_color }}), 0.2);
              }
    - type: conditional
      view_layout:
        grid-column-end: span 2
      conditions:
        - entity: sensor.washer
          state_not: "off"
      card:
        type: picture-elements
        entity: sensor.washer
        image: /local/hass-combo-card-transparent-bg.png
        elements:
          - type: image
            entity: sensor.washer_run_state
            image: /local/lg-icons/sensing.png
            state_image:
              Detecting: /local/lg-icons/sensing-on.png
              Beladingsdetectie: /local/lg-icons/sensing-on.png
            style:
              top: 33%
              left: 33%
              width: 20%
              image-rendering: crisp
          - type: image
            entity: sensor.washer_run_state
            image: /local/lg-icons/wash.png
            state_image:
              Washing: /local/lg-icons/wash-on.png
              Wassen: /local/lg-icons/wash-on.png
            style:
              top: 33%
              left: 51%
              width: 20%
              image-rendering: crisp
          - type: image
            entity: sensor.washer_run_state
            image: /local/lg-icons/rinse.png
            state_image:
              Rinsing: /local/lg-icons/rinse-on.png
              Spoelen: /local/lg-icons/rinse-on.png
            style:
              top: 33%
              left: 69%
              width: 20%
              image-rendering: crisp
          - type: image
            entity: sensor.washer_run_state
            image: /local/lg-icons/spin.png
            state_image:
              Spinning: /local/lg-icons/spin-on.png
              Centrifugeren: /local/lg-icons/spin-on.png
            style:
              top: 33%
              left: 87%
              width: 20%
              image-rendering: crisp
          - type: image
            entity: sensor.washer
            image: /local/lg-icons/wifi.png
            state_image:
              "on": /local/lg-icons/wifi-on.png
            style:
              top: 73%
              left: 32%
              width: 10%
              image-rendering: crisp
          - type: image
            entity: sensor.washer_door_lock
            image: /local/lg-icons/lock.png
            state_image:
              "on": /local/lg-icons/lock-on.png
            style:
              top: 73%
              left: 45%
              width: 10%
              image-rendering: crisp
          - type: state-label
            entity: sensor.blank
            prefix: "18:88"
            style:
              color: "#555"
              font-family: segment7
              font-size: 50px
              left: 95%
              top: 74%
              transform: "translate(-100%,-50%)"
          - type: state-label
            entity: sensor.washer_time_display
            style:
              color: "#8df427"
              font-family: segment7
              font-size: 50px
              left: 95%
              top: 74%
              transform: "translate(-100%,-50%)"
- name: eetkamer
  areas:
    - eetkamer
  icon: hue:room-dining
  color: orange
  cards:
    - entity: media_player.eetkamer
    - entity: light.diningroom_ceiling10_ceiling_light
      name: Tafel Fel
    - entity: light.diningroom_ceiling10_night_light
      name: Tafel Dim
    - entity: light.diningroom_ceiling10_ambient_light
      name: Plafond Sfeer
    - entity: light.sofa
      name: Bank Plafond
    - entity: light.stopcontact_2
      name: Staande Lamp
      type: onoff
    - entity: light.eetkamer_kamerlamp
      name: Kamerlamp
    - entity: light.stopcontact_4
      name: Lavalamp
      type: onoff
    - entity: light.leeshoek
      name: Leeshoek
    - type: custom:mushroom-template-card
      primary: Fijnstof
      secondary: "{{ states(entity) }} µg/m³"
      icon: mdi:blur
      entity: sensor.bluetooth_hub_diningroom_2_5um_fijnstof_concentratie
      icon_color: "{% if states(entity)|float < 75 %}green{% elif states(entity)|float < 100 %}yellow{% else %}red{% endif %}"
      multiline_secondary: false
      fill_container: true
      tap_action:
        action: more-info
    - entity: plant.rubberplant
      battery: sensor.plant_sensor_f5c0_battery

- name: bar
  areas:
    - bar
  icon: mdi:glass-cocktail
  color: lime
  cards:
    - entity: light.bar_ceiling
      name: Plafond
    - type: tile
      entity: switch.fontein_power

- name: keuken
  areas:
    - keuken
  icon: hue:room-kitchen
  color: yellow
  cards:
    - entity: media_player.keuken
    - entity: light.ceiling_lsc_kitchen_light
      name: Plafond
    - entity: light.afzuigkap
      name: Afzuigkap
    - entity: input_datetime.kattenbak
      type: custom:lovelace_gen-timer
      days: 3
      confirmation:
        text: Geen kakkiejakkie meer?
    - entity: input_datetime.drinkfontein
      days: 5
      confirmation:
        text: Weer woeiert?
    - entity: input_datetime.koffiezetapparaat
      days: 90
      confirmation:
        text: Waterfilter vervangen en alles ontkalkt/schoongemaakt?
    - entity: input_datetime.ijsblokjesmachine
      days: 60
      confirmation:
        text: Schoongemaakt en ontkalkt?
    - entity: plant.basilicum
      battery: sensor.plant_sensor_b2f8_battery
    - entity: plant.laurier
      battery: sensor.plant_sensor_1455_battery

- name: gang
  areas: []
  color: light-blue
  icon: hue:room-hallway
  cards:
    - entity: light.hallway_upstairs
      name: Boven
    - entity: light.hallway_downstairs
      name: Beneden

- name: opslag
  icon: hue:room-storage
  color: pink
  areas:
    - opslag
  #    - bijkeuken
  cards:
    - entity: media_player.opslag
    - entity: light.ceiling_lsc_storage_light
      name: Plafond

- name: slaapkamer
  icon: hue:room-bedroom
  color: purple
  areas:
    - slaapkamer
    - inloopkast
  cards:
    - entity: media_player.slaapkamer
    - entity: light.slaapkamer_plafond
      name: Plafond
#    - entity: light.nachtkastje
#      name: Nachtkastje
    - entity: light.walk_in_closet
      name: Inloopkast
    - entity: light.tradfri_driver
      name: Kledingrek

- name: kantoor
  icon: hue:room-office
  color: light-blue
  areas:
    - kantoor
  cards:
    - entity: light.ceiling_lsc_office_light
      name: Plafond
    - entity: light.bureaulamp_kantoor
      name: Bureau
    - type: tile
      entity: sensor.octoprint_current_state
    - type: tile
      entity: sensor.hp_envy_pro_6400_series
    - entity: plant.pannenkoekenplant_2
      battery: sensor.plant_sensor_1283_battery

- name: toilet
  icon: hue:room-toilet
  color: brown
  areas:
    - toilet
  cards:
    - entity: light.bathroom_downstairs
      name: Plafond
    - entity: plant.kerstcactus
      battery: sensor.plant_sensor_f391_battery

- name: badkamer
  icon: hue:room-bathroom
  color: blue
  areas:
    - badkamer
  cards:
    - entity: media_player.badkamer
    - entity: light.badkamer
      name: Plafond
    - entity: light.shelly_1l_bathroom_lamp
      name: Spiegel
      type: onoff
    - type: tile
      entity: binary_sensor.shower_in_use
    - type: tile
      entity: fan.relais

- name: tuin
  icon: phu:garden
  color: teal
  areas:
    - tuin
    - voortuin
  cards:
    - entity: light.lsc_stringlight_ww
      name: Voortuin
      type: onoff
    - type: tile
      entity: binary_sensor.front_door_ding_2
    - entity: light.tuin_lampjes
      name: Lampjes
      type: onoff
    - entity: light.tuin_strip
      name: Ledstrip

- name: trap
  icon: hue:room-stairs
  color: amber
  areas:
    - trap
  cards:
    - entity: light.trap_boven
      name: Boven
    - name: Beneden
      entity: light.trap_beneden
    - entity: plant.yucca
      battery: sensor.plant_sensor_f56c_battery
