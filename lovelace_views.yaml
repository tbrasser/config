- name: security
  position: footer
  chip:
    type: alarm-control-panel
    entity: alarm_control_panel.alarm
    content_info: none
- name: main
  position: footer
  chip:
    type: action
    icon: mdi:home
- name: lights
  position: footer
  chip:
    type: light
    entity: light.alles
    content_info: none
    use_light_color: true
    icon: mdi:lightbulb
    hold_action:
      action: more-info
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          {% if (expand(config.entity) | selectattr('state','eq','on') | list | count) > 0 %}
          content: "{{ expand(config.entity) | selectattr('state','eq','on') | list | count }}";
          {% endif %} 
        }
- name: devices
  position: footer
  chip:
    type: template
    icon: mdi:wrench-clock
    icon_color: blue
- name: location
  position: footer
  chip:
    type: template
    icon: mdi:heart
    icon_color: red
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          {% if (states.persistent_notification | selectattr('state','eq','notifying') | list | count) > 0 %}
          content: "{{ states.persistent_notification | selectattr('state','eq','notifying') | list | count }}";
          {% endif %} 
        }
- name: finance
  position: header
  chip:
    type: template
    entity: sensor.uitgegeven_vandaag
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          content: "{{ (states.sensor.te_besteden_per_dag.state|float - states.sensor.uitgegeven_vandaag.state|float)|int }}";
        }
    icon_color: "{% if states.sensor.uitgegeven_vandaag.state|float > states.sensor.te_besteden_per_dag.state|float %}red{% else %}green{% endif %}"
    icon: "{% if states.sensor.te_besteden_per_dag.state|float < 70 %}mdi:currency-eur-off{% else %}mdi:currency-eur{% endif %}"
- name: winston
  position: header
  chip:
    type: entity
    entity: vacuum.winston
    icon_color: red
    icon: mdi:robot-vacuum
    content_info: none
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          {% if states.vacuum.winston.state != "docked" %}
          content: "{{ states.sensor.winston_room.state }}";
          {% endif %} 
        }
- name: plants
  position: header
  chip:
    type: action
    icon_color: light-green
    icon: mdi:sprout
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          content: "{{ states.plant | selectattr('state','eq','problem') | list | count }}";
        }
- name: weather
  position: header
  chip:
    type: weather
    entity: weather.buienradar
    card_mod:
      class: chipbadge
      style: |
        ha-card:after {
          content: "{{ state_attr('weather.buienradar', 'temperature') }}";
        }
- name: time
  position: header
  chip:
    type: template
    entity: sensor.time
    content: "{{ states.sensor.time.state }}"