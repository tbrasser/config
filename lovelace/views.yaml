# lovelace_gen
{% for view in _global.views %}
{% if view.name != 'main' %}
- type: panel
  path: {{ view.name }}
  subview: true
  cards:
    - type: custom:mod-card
      card_mod:
        class: invisible
        style: |
          ha-card {
            border-radius: 0px !important;
            border-width: 0px !important;
            {% if view.name != 'weather' %} 
            {{ "{%" }} if state_attr( "media_player.global", "entity_picture" ) != none {{ "%}" }}
            background: center / cover no-repeat fixed url( '{{ "{{" }} state_attr( "media_player.global", "entity_picture" )|replace('MaxWidth=150&', '') {{ "}}" }}' );
            {{ "{%" }} endif {{ "%}" }}
            {% endif %}
          }
      card:
        type: custom:state-switch
        entity: mediaquery
        states:
          '(orientation: landscape)':
            type: vertical-stack
            cards:
              - !include
                - .cards/sticky.yaml
                - view: {{ view.name }}
                  position: both
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout: !include .cards/layout.yaml
                cards: !include 
                  - .cards/{{ view.name }}.yaml
                  - orientation: landscape
          '(orientation: portrait)':
            type: vertical-stack
            cards:
              - !include
                - .cards/sticky.yaml
                - view: {{ view.name }}
                  position: header
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout: !include .cards/layout.yaml
                cards: !include 
                  - .cards/{{ view.name }}.yaml
                  - orientation: portrait
              - !include
                - .cards/sticky.yaml
                - view: {{ view.name }}
                  position: footer
{% endif %}
{% endfor %}