# lovelace_gen
- type: panel
  path: main
  title: Rooms
  cards:
    - type: custom:mod-card
      card_mod:
        class: invisible
        style: |
          ha-card {
            border-radius: 0px !important;
            border-width: 0px !important;
            {{ "{%" }} if state_attr( "media_player.global", "entity_picture" ) != none {{ "%}" }}
            background: center / cover no-repeat fixed url( '{{ "{{" }} state_attr( "media_player.global", "entity_picture" )|replace('MaxWidth=150&', '') {{ "}}" }}' );
            {{ "{%" }} endif {{ "%}" }}
          }
      card:
        type: custom:state-switch
        entity: mediaquery
        states:
          '(orientation: landscape)':
            type: vertical-stack
            cards:
              - !include
                - .cards/sticky.yaml
                - view: main
                  position: both
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout: !include .cards/layout.yaml
                cards:
                  - !include
                    - .cards/media_player_active.yaml
                    - entity: media_player.global
                  - type: conditional
                    view_layout:
                      grid-column-end: span 2
                    conditions:
                      - entity: vacuum.winston
                        state_not: docked
                    card:
                      type: tile
                      entity: vacuum.winston
                      features:
                        - type: vacuum-commands
                          commands: [start_pause, stop, clean_spot, locate, return_home]
                  - type: conditional
                    view_layout:
                      grid-column-end: span 2
                    conditions:
                      - entity: sensor.washer
                        state_not: "off"
                    card:
                      type: picture-elements
                      entity: sensor.washer
                      image: /local/hass-combo-card-transparent-bg.png
                      elements:
                        - type: image
                          entity: sensor.washer_run_state
                          image: /local/lg-icons/sensing.png
                          state_image:
                            Detecting: /local/lg-icons/sensing-on.png
                            Beladingsdetectie: /local/lg-icons/sensing-on.png
                          style:
                            top: 33%
                            left: 33%
                            width: 20%
                            image-rendering: crisp
                        - type: image
                          entity: sensor.washer_run_state
                          image: /local/lg-icons/wash.png
                          state_image:
                            Washing: /local/lg-icons/wash-on.png
                            Wassen: /local/lg-icons/wash-on.png
                          style:
                            top: 33%
                            left: 51%
                            width: 20%
                            image-rendering: crisp
                        - type: image
                          entity: sensor.washer_run_state
                          image: /local/lg-icons/rinse.png
                          state_image:
                            Rinsing: /local/lg-icons/rinse-on.png
                            Spoelen: /local/lg-icons/rinse-on.png
                          style:
                            top: 33%
                            left: 69%
                            width: 20%
                            image-rendering: crisp
                        - type: image
                          entity: sensor.washer_run_state
                          image: /local/lg-icons/spin.png
                          state_image:
                            Spinning: /local/lg-icons/spin-on.png
                            Centrifugeren: /local/lg-icons/spin-on.png
                          style:
                            top: 33%
                            left: 87%
                            width: 20%
                            image-rendering: crisp
                        - type: image
                          entity: sensor.washer
                          image: /local/lg-icons/wifi.png
                          state_image:
                            "on": /local/lg-icons/wifi-on.png
                          style:
                            top: 73%
                            left: 32%
                            width: 10%
                            image-rendering: crisp
                        - type: image
                          entity: sensor.washer_door_lock
                          image: /local/lg-icons/lock.png
                          state_image:
                            "on": /local/lg-icons/lock-on.png
                          style:
                            top: 73%
                            left: 45%
                            width: 10%
                            image-rendering: crisp
                        - type: state-label
                          entity: sensor.blank
                          prefix: "18:88"
                          style:
                            color: "#555"
                            font-family: segment7
                            font-size: 50px
                            left: 95%
                            top: 74%
                            transform: "translate(-100%,-50%)"
                        - type: state-label
                          entity: sensor.washer_time_display
                          style:
                            color: "#8df427"
                            font-family: segment7
                            font-size: 50px
                            left: 95%
                            top: 74%
                            transform: "translate(-100%,-50%)"
                  {% for room in _global.rooms %}
                  {% if "media" in room %}
                  - !include
                    - .cards/timer_active.yaml
                    - timer: {{ room.name }}_1
                  - !include
                    - .cards/timer_active.yaml
                    - timer: {{ room.name }}_2
                  {% endif %}
                  {% endfor %}
                  {% for room in _global.rooms %}
                  - !include
                    - .cards/room_card.yaml
                    - room: {{ room.name }}
                      icon: {{ room.icon }}
                      color: {{ room.color }}
                      {% if "media" in room %}
                      media: {{ room.media }}
                      {% endif %}
                  {% endfor %}
          '(orientation: portrait)':
            type: vertical-stack
            cards:
              - !include
                - .cards/sticky.yaml
                - view: main
                  position: header
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout: !include .cards/layout.yaml
                cards:
                  - type: conditional
                    view_layout:
                      grid-column-end: span 2
                    conditions:
                      - entity: vacuum.winston
                        state_not: docked
                    card:
                      type: tile
                      entity: vacuum.winston
                      features:
                        - type: vacuum-commands
                          commands: [start_pause, stop, clean_spot, locate, return_home]
                  - !include
                    - .cards/media_player_active.yaml
                    - entity: media_player.global
                  {% for room in _global.rooms %}
                  {% if "media" in room %}
                  - !include
                    - .cards/timer_active.yaml
                    - timer: {{ room.name }}_1
                  - !include
                    - .cards/timer_active.yaml
                    - timer: {{ room.name }}_2
                  {% endif %}
                  {% endfor %}
                  {% for room in _global.rooms %}
                  - !include
                    - .cards/room_card.yaml
                    - room: {{ room.name }}
                      icon: {{ room.icon }}
                      color: {{ room.color }}
                      {% if "media" in room %}
                      media: {{ room.media }}
                      {% endif %}
                  {% endfor %}
              - !include
                - .cards/sticky.yaml
                - view: main
                  position: footer